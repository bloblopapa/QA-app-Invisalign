<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>QA Evaluation App - Invisalign</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f4f4f4;
    }

    h1 { text-align: center; }

    .top-inputs {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    .input-group { flex: 1; min-width: 200px; display: flex; flex-direction: column; }
    .input-group label { margin-bottom: 5px; font-weight: bold; }
    .input-group input { padding: 8px; border-radius: 5px; border: 1px solid #ccc; font-size: 14px; }

    .main { display: flex; gap: 20px; align-items: flex-start; }

    #feedback {
      width: 45%;
      height: 70vh;
      padding: 10px;
      font-size: 14px;
      border-radius: 8px;
      border: 1px solid #ccc;
      background: #fff;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      min-width: 450px;
      resize: both;
    }

    .criteria-list {
      width: 55%;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      max-height: 70vh;
      overflow-y: auto;
    }

    .criterion {
      background: white;
      border-radius: 10px;
      padding: 10px;
      margin-bottom: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    button {
      margin-top: 5px;
      margin-right: 10px;
      padding: 5px 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .yes { background-color: #d4edda; color: #155724; }
    .no { background-color: #f8d7da; color: #721c24; }
    .feedback {  background-color: #fff3cd;  color: #856404; }
    .copy-btn { margin-top: 20px; padding: 10px 20px; background: #007bff; color: white; border-radius: 5px; border: none; cursor: pointer; }

    @media (max-width: 900px) {
      .main { flex-direction: column; }
      #feedback, .criteria-list { width: 100%; }
    }
  </style>
</head>
<body>

<h1>QA Evaluation App Invisalign</h1>

<div class="top-inputs">
  <div class="input-group">
    <label for="agentName">Agent's Name</label>
    <input type="text" id="agentName" placeholder="Enter agent's name">
  </div>
  <div class="input-group">
    <label for="callerName">Customer's Name</label>
    <input type="text" id="callerName" placeholder="Enter customer's name">
  </div>
  <div class="input-group">
    <label for="callReason">Reason</label>
    <input type="text" id="callReason" placeholder="Enter reason for the interaction">
  </div>
  <div class="input-group">
    <label for="orderId">Order ID/Patient ID</label>
    <input type="text" id="orderId" placeholder="Enter order/patient ID">
  </div>
  <div class="input-group">
    <label for="ticketId">Ticket ID</label>
    <input type="text" id="ticketId" placeholder="Enter ticket ID">
  </div>

<div class="input-group">
  <label for="criteriaSet">Select Guideline</label>
  <select id="criteriaSet" onchange="loadCriteriaSet()">
    <option value="Calls">Calls</option>
    <option value="Sales">Sales</option>
    <option value="Chat">Chat</option>
  </select>
</div>
</div>
<div class="main">
  <div>
    <textarea id="feedback" placeholder="Generated feedback will appear here..."></textarea>
    <br>
    <button class="copy-btn" onclick="copyFeedback()">Copy All Feedback</button>
  </div>

  <div class="criteria-list" id="criteria-container"></div>
</div>

<script>
    let accomplishments = [];
let developmentFeedback = [];
const criteriaSet = {
  
  Calls: [
{ label: "Answered promptly with greeting", yes: "‚úÖ You did a nice job responding within the first 5 seconds, which meets our pillar of 'Respond with Empathy'.", no: "üö© Answered the call within 5 seconds by using the correct greeting. (4 pts)", feedback: "‚ö†Ô∏è Answered the call within 5 seconds by using the correct greeting. (4 pts)" },
{ label: "Understood customer needs", yes: "‚úÖ You really took the time to understand the customer's needs, which perfectly reflects our 'Ask' value.", no: "üö© Agent understood customer's needs and had an awareness of relevant details. (8 pts)", feedback: "‚ö†Ô∏è Agent understood customer's needs and had an awareness of relevant details. (8 pts)" },
{ label: "Personalized with name", yes: "‚úÖ Used the customer‚Äôs name naturally to personalize the interaction and build rapport.", no: "üö© Personalized the interaction with the caller's name. (3 pts)", feedback: "‚ö†Ô∏è Personalized the interaction with the caller's name. (3 pts)" },
{ label: "Validated the call", yes: "‚úÖ Great work validating the account to make sure that the customer's information is secure.", no: "üö© Validated the call at the beginning by using all available resources. (8 pts)", feedback: "‚ö†Ô∏è Validated the call at the beginning by using all available resources. (8 pts)" },
{ label: "Professional and friendly attitude", yes: "‚úÖ Maintained a professional yet friendly tone, keeping the interaction pleasant and respectful.", no: "üö© Showed professionalism and a friendly attitude. (6 pts)", feedback: "‚ö†Ô∏è Showed professionalism and a friendly attitude. (6 pts)" },
{ label: "Used empathy and apology", yes: "‚úÖ Expressed empathy appropriately and provided a genuine apology when needed.", no: "üö© Used empathy and apology statements. (5 pts)", feedback: "‚ö†Ô∏è Used empathy and apology statements. (5 pts)" },
{ label: "Answered with updated info", yes: "‚úÖ Our 'Respond with Empathy' pillar was reflected in your responses to our customers' questions, educating them with the correct information/process and orienting them accordingly.", no: "üö© Answered the Customer's questions with the most updated information. (10 pts)", feedback: "‚ö†Ô∏è Answered the Customer's questions with the most updated information. (10 pts)" },
{ label: "Showed ownership", yes: "‚úÖ Fantastic work taking immediate action and assuming ownership to ensure the best possible outcome, showing our 'Respond with empathy' pillar.", no: "üö© Showed empowerment and took ownership to resolve needs. (10 pts)", feedback: "‚ö†Ô∏è Showed empowerment and took ownership to resolve needs. (10 pts)" },
{ label: "Provided additional information", yes: "‚úÖ Additional information was provided during the interaction meeting our 'Respond with Empathy' criteria.", no: "üö© Provided additional information related to the request. (4 pts)", feedback: "‚ö†Ô∏è Provided additional information related to the request. (4 pts)" },
{ label: "Offered additional assistance", yes: "‚úÖ Engaged with our customer by offering additional assistance making sure our customer has all the information needed.", no: "üö© Offered additional assistance. (4 pts)", feedback: "‚ö†Ô∏è Offered additional assistance. (4 pts)" },
{ label: "Used formal closing", yes: "‚úÖ You parted professionally and closed the interaction with a positive experience, reflecting our 'Connect' pillar.", no: "üö© Used a formal parting phrase. (3 pts)", feedback: "‚ö†Ô∏è Used a formal parting phrase. (3 pts)" },
{ label: "Followed hold procedure", yes: "‚úÖ The correct hold procedure was followed.", no: "üö© Used the correct hold procedure. (5 pts)", feedback: "‚ö†Ô∏è Used the correct hold procedure. (5 pts)" },
{ label: "Avoided long pauses", yes: "‚úÖ Great work keeping a fluent conversation, avoiding uncomfortable silences, keeping an active presence; This helped you connect with the customer.", no: "üö© Avoided pauses, no more than 10 seconds. (4 pts)", feedback: "‚ö†Ô∏è Avoided pauses, no more than 10 seconds. (4 pts)" },
{ label: "Transferred correctly", yes: "‚úÖ Performed a proper and smooth transfer to the correct department.", no: "üö© Correct conference/ warm transfer made to the right department. (3 pts)", feedback: "‚ö†Ô∏è Correct conference/ warm transfer made to the right department. (3 pts)" },
{ label: "Positive customer impact", yes: "‚úÖ Created a positive experience that clearly left the customer satisfied and reassured.", no: "üö© Were the customer emotions positively impacted? (2 pts)", feedback: "‚ö†Ô∏è Were the customer emotions positively impacted? (2 pts)" },
{ label: "Documented correctly", yes: "‚úÖ Documented accurately under the correct PID, contact, or order as required.", no: "üö© Documented under the correct PID, Contact, Order. (4 pts)", feedback: "‚ö†Ô∏è Documented under the correct PID, Contact, Order. (4 pts)" },
{ label: "Classified mandatory fields", yes: "‚úÖ All mandatory fields were properly filled out before closing the ticket.", no: "üö© Classified all mandatory ticket fields. (4 pts)", feedback: "‚ö†Ô∏è Classified all mandatory ticket fields. (4 pts)" },
{ label: "KB attached", yes: "‚úÖ Well done attaching the KB to the ticket.", no: "üö© Classified all mandatory ticket fields. (4 pts)", feedback: "‚ö†Ô∏è Classified all mandatory ticket fields. (4 pts)" },
{ label: "Used proper subject", yes: "‚úÖ Entered a clear and relevant subject line for the ticket.", no: "üö© Used a proper subject. (2 pts)", feedback: "‚ö†Ô∏è Used a proper subject. (2 pts)" },
{ label: "Documented issue and actions", yes: "‚úÖ Logged the customer‚Äôs issue and all actions taken to resolve it clearly.", no: "üö© Documented the issue/ questions and actions taken to solve it. (5 pts)", feedback: "‚ö†Ô∏è Documented the issue/ questions and actions taken to solve it. (5 pts)" },
{ label: "Assigned correct status and owner", yes: "‚úÖ Assigned the correct ticket status and owner as required.", no: "üö© Ticket status and ticket owner adequately assigned (when applicable). (4 pts)", feedback: "‚ö†Ô∏è Ticket status and ticket owner adequately assigned (when applicable). (4 pts)" },
{ label: "Attached evidence", yes: "‚úÖ Attached all necessary evidence supporting the case resolution.", no: "üö© Evidence was attached to the ticket. (2 pts)", feedback: "‚ö†Ô∏è Evidence was attached to the ticket. (2 pts)" },
{ label: "Documented interaction", yes: "‚úÖ Fully documented the interaction following process requirements.", no: "üö© Failed to document the interaction.", feedback: "‚ö†Ô∏è Failed to document the interaction." },
{ label: "No sensitive info released", yes: "‚úÖ Protected customer information and avoided releasing any sensitive data.", no: "üö© Released sensitive information to an unknown requestor.", feedback: "‚ö†Ô∏è Released sensitive information to an unknown requestor." },
{ label: "Professional behavior", yes: "‚úÖ Displayed professionalism throughout the interaction.", no: "üö© The agent was unprofessional.", feedback: "‚ö†Ô∏è The agent was unprofessional." },
{ label: "Did not disconnect", yes: "‚úÖ Ensured the call was completed without abrupt disconnection.", no: "üö© Disconnected the call.", feedback: "‚ö†Ô∏è Disconnected the call." },
{ label: "Closed line properly", yes: "‚úÖ Verified that the line was properly closed after the call ended.", no: "üö© Left the call line open after the call finished (1 min).", feedback: "‚ö†Ô∏è Left the call line open after the call finished (1 min)." },
{ label: "Recording disclaimer", yes: "‚úÖ Delivered the recording disclaimer correctly at the beginning of the call.", no: "üö© Recording Disclaimer not used.", feedback: "‚ö†Ô∏è Recording Disclaimer not used." },
{ label: "Call not abandoned", yes: "‚úÖ Managed the call responsibly from start to finish without abandonment.", no: "üö© The call was abandoned.", feedback: "‚ö†Ô∏è The call was abandoned." },
{ label: "Followed up with customer", yes: "‚úÖ Ensured the customer received updates and follow-up as needed.", no: "üö© Failed to update and/or follow up with the customer.", feedback: "‚ö†Ô∏è Failed to update and/or follow up with the customer." },
],

Sales: [
{ label: "Answered promptly with greeting", yes: "‚úÖ You did a nice job responding within the first 5 seconds, which meets our pillar of 'Respond with Empathy'.", no: "üö© Answered the call within 5 seconds using the correct greeting (5 pts)", feedback: "‚ö†Ô∏è Answered the call within 5 seconds using the correct greeting (5 pts)" },
{ label: "Understood customer needs", yes: "‚úÖ You really took the time to understand the customer's needs, which perfectly reflects our 'Ask' value.", no: "üö© Understood customers' needs and awareness of relevant details (8 pts)", feedback: "‚ö†Ô∏è Understood customers' needs and awareness of relevant details (8 pts)" },
{ label: "Personalized with name", yes: "‚úÖ Addressed the customer by name naturally, creating a warm and personal interaction. This represents our CARE pillar 'Connect'.", no: "üö© Personalized with Customer's name (3 pts)", feedback: "‚ö†Ô∏è Personalized with Customer's name (3 pts)" },
{ label: "Professional and friendly attitude", yes: "‚úÖ Maintained a positive and approachable tone throughout the call, representing our CARE value 'Respond with empathy'.", no: "üö© Showed professionalism and a friendly attitude (6 pts)", feedback: "‚ö†Ô∏è Showed professionalism and a friendly attitude (6 pts)" },
{ label: "Used empathy and apology", yes: "‚úÖ Expressed empathy sincerely and offered an appropriate apology when needed. This represents our CARE value 'Respond with empathy'.", no: "üö© Used empathy and apology statements (5 pts)", feedback: "‚ö†Ô∏è Used empathy and apology statements (5 pts)" },
{ label: "Answered with updated info", yes: "‚úÖ Displayed our CARE pillar 'Respond with empathy' by providing accurate and up-to-date information appropriately. Well done.", no: "üö© Answered Customer's questions with the most updated information (12 pts)", feedback: "‚ö†Ô∏è Answered Customer's questions with the most updated information (12 pts)" },
{ label: "Showed ownership", yes: "‚úÖ Fantastic work taking immediate action and assuming ownership to ensure the best possible outcome, showing our 'Respond with empathy' pillar.", no: "üö© Showed empowerment and took ownership to resolve needs (12 pts)", feedback: "‚ö†Ô∏è Showed empowerment and took ownership to resolve needs (12 pts)" },
{ label: "Offered additional assistance", yes: "‚úÖ Engaged with our customer by offering additional assistance making sure our customer has all the information needed.", no: "üö© Offered additional assistance (4 pts)", feedback: "‚ö†Ô∏è Offered additional assistance (4 pts)" },
{ label: "Used formal closing", yes: "‚úÖ You parted professionally and closed the interaction with a positive experience, reflecting our 'Connect' pillar.", no: "üö© Used a formal parting phrase (3 pts)", feedback: "‚ö†Ô∏è Used a formal parting phrase (3 pts)" },
{ label: "Followed hold procedure", yes: "‚úÖ The correct hold procedure was followed.", no: "üö© Hold Procedure and Communication Management (5 pts)", feedback: "‚ö†Ô∏è Hold Procedure and Communication Management (5 pts)" },
{ label: "Avoided long pauses", yes: "‚úÖ The conversation felt smooth and natural without unnecessary silence.", no: "üö© Avoided pauses, no more than 10 seconds (4 pts)", feedback: "‚ö†Ô∏è Avoided pauses, no more than 10 seconds (4 pts)" },
{ label: "Transferred correctly", yes: "‚úÖ Completed a proper and seamless transfer to the right department.", no: "üö© Conference/ warm transfer to the correct department (3 pts)", feedback: "‚ö†Ô∏è Conference/ warm transfer to the correct department (3 pts)" },
{ label: "Positive customer impact", yes: "‚úÖ Created a positive experience that left the customer feeling supported.", no: "üö© Were the Customer's emotions positively impacted? (2 pts)", feedback: "‚ö†Ô∏è Were the Customer's emotions positively impacted? (2 pts)" },
{ label: "Documented correctly", yes: "‚úÖ Nice job documenting under the correct DID/PID.", no: "üö© Documented under the correct PID, Contact, Order (4 pts)", feedback: "‚ö†Ô∏è Documented under the correct PID, Contact, Order (4 pts)" },
{ label: "Email and SMS etiquette", yes: "‚úÖ Written communication followed etiquette standards and looked professional.", no: "üö© Email and SMS Etiquette (7 pts)", feedback: "‚ö†Ô∏è Email and SMS Etiquette (7 pts)" },
{ label: "Classified mandatory fields", yes: "‚úÖ All required ticket fields were completed correctly.", no: "üö© Classified all mandatory ticket fields (4 pts)", feedback: "‚ö†Ô∏è Classified all mandatory ticket fields (4 pts)" },
{ label: "Used proper subject", yes: "‚úÖ Used a clear and relevant subject line that reflected the case details.", no: "üö© Used a proper subject (2 pts)", feedback: "‚ö†Ô∏è Used a proper subject (2 pts)" },
{ label: "Documented issue and actions", yes: "‚úÖ Documentation clearly outlined both the issue and the steps taken to resolve it.", no: "üö© Documented the issue/ questions and actions taken to solve it (5 pts)", feedback: "‚ö†Ô∏è Documented the issue/ questions and actions taken to solve it (5 pts)" },
{ label: "Assigned correct status and owner", yes: "‚úÖ Updated the ticket with the right status and ownership information.", no: "üö© Correctly assigned the ticket status and ticket owner (when applicable) (4 pts)", feedback: "‚ö†Ô∏è Correctly assigned the ticket status and ticket owner (when applicable) (4 pts)" },
{ label: "Attached evidence", yes: "‚úÖ Included all necessary evidence to support the case resolution.", no: "üö© Evidence attached to the ticket (2 pts)", feedback: "‚ö†Ô∏è Evidence attached to the ticket (2 pts)" },
{ label: "Documented interaction", yes: "‚úÖ Interaction details were captured completely and in line with process expectations.", no: "üö© Failed to document the interaction", feedback: "‚ö†Ô∏è Failed to document the interaction" },
{ label: "No sensitive info released", yes: "‚úÖ Handled all customer information responsibly and securely.", no: "üö© Released sensitive information to an unknown requester", feedback: "‚ö†Ô∏è Released sensitive information to an unknown requester" },
{ label: "Professional behavior", yes: "‚úÖ Displayed consistent professionalism during the entire interaction.", no: "üö© The agent was unprofessional", feedback: "‚ö†Ô∏è The agent was unprofessional" },
{ label: "Did not disconnect", yes: "‚úÖ The call was ended appropriately without abrupt disconnection.", no: "üö© Disconnected Calls or Chats", feedback: "‚ö†Ô∏è Disconnected Calls or Chats" },
{ label: "Closed line properly", yes: "‚úÖ Ensured the line was fully closed after finishing the call.", no: "üö© Left the line open after the call/ Chat finished", feedback: "‚ö†Ô∏è Left the line open after the call/ Chat finished" },
{ label: "Sent message to customer", yes: "‚úÖ Follow-up message was sent successfully and on time.", no: "üö© Failed to send the text to the Customer", feedback: "‚ö†Ô∏è Failed to send the text to the Customer" },
{ label: "Acceptable grammar", yes: "‚úÖ Writing was clear, easy to read, and free of major grammatical issues.", no: "üö© The text has 4 or more grammar mistakes", feedback: "‚ö†Ô∏è The text has 4 or more grammar mistakes" },
{ label: "Recording disclaimer", yes: "‚úÖ Recording disclaimer was delivered correctly at the start of the call.", no: "üö© Recording Disclaimer", feedback: "‚ö†Ô∏è Recording Disclaimer" },
{ label: "Call not abandoned", yes: "‚úÖ Managed the entire call responsibly and stayed connected until resolution.", no: "üö© Call abandoned", feedback: "‚ö†Ô∏è Call abandoned" },
{ label: "Chat or SMS not abandoned", yes: "‚úÖ Maintained active engagement throughout the conversation without leaving it unattended.", no: "üö© Chat/ SMS abandonment", feedback: "‚ö†Ô∏è Chat/ SMS abandonment" },

],
Chat: [
{ label: "Personalized chat", yes: "‚úÖ You personalized the chat by addressing the customer by name, creating a friendly tone.", no: "üö© Personalized the chat with the customer's name. (5pts)", feedback: "‚ö†Ô∏è Personalized the chat with the customer's name. (5pts)" },
{ label: "Understood customer needs", yes: "‚úÖ You clearly understood the customer's needs and considered all relevant details.", no: "üö© Understood customers' needs and awareness of relevant details. (8pts)", feedback: "‚ö†Ô∏è Understood customers' needs and awareness of relevant details. (8pts)" },
{ label: "Professional and friendly attitude", yes: "‚úÖ You maintained a professional and approachable attitude throughout the interaction.", no: "üö© Showed professionalism and a friendly attitude. (6pts)", feedback: "‚ö†Ô∏è Showed professionalism and a friendly attitude. (6pts)" },
{ label: "Used empathy and apology", yes: "‚úÖ You expressed empathy and offered apologies when appropriate, showing care and understanding.", no: "üö© Used empathy and apology statements. (6pts)", feedback: "‚ö†Ô∏è Used empathy and apology statements. (6pts)" },
{ label: "Answered with updated info", yes: "‚úÖ You provided the customer with accurate and up-to-date information.", no: "üö© Answered customers' questions with the most updated information. (10pts)", feedback: "‚ö†Ô∏è Answered customers' questions with the most updated information. (10pts)" },
{ label: "Showed ownership", yes: "‚úÖ You took ownership of the situation and worked proactively to resolve the customer‚Äôs needs.", no: "üö© Showed empowerment and took ownership to resolve needs. (12pts)", feedback: "‚ö†Ô∏è Showed empowerment and took ownership to resolve needs. (12pts)" },
{ label: "Offered additional assistance", yes: "‚úÖ You went the extra mile by offering further help before ending the chat.", no: "üö© Offered additional assistance. (5pts)", feedback: "‚ö†Ô∏è Offered additional assistance. (5pts)" },
{ label: "Used formal closing", yes: "‚úÖ You ended the conversation with a professional and polite closing phrase.", no: "üö© Used a formal parting phrase. (5pts)", feedback: "‚ö†Ô∏è Used a formal parting phrase. (5pts)" },
{ label: "Kept conversation active", yes: "‚úÖ You maintained an active, natural flow and managed pause time effectively.", no: "üö© Kept the conversation active and/or used the pause time appropriately (6pts)", feedback: "‚ö†Ô∏è Kept the conversation active and/or used the pause time appropriately (6pts)" },
{ label: "Clear and correct text", yes: "‚úÖ The text was easy to understand and free from grammar or spelling issues.", no: "üö© Text is fully comprehensible with the proper grammar and spelling. (12pts)", feedback: "‚ö†Ô∏è Text is fully comprehensible with the proper grammar and spelling. (12pts)" },
{ label: "Connected to correct department", yes: "‚úÖ You connected the customer to the correct department promptly.", no: "üö© Connected to the correct department. (4pts)", feedback: "‚ö†Ô∏è Connected to the correct department. (4pts)" },
{ label: "Correct documentation location", yes: "‚úÖ You documented the case under the correct PID, Contact, or Order.", no: "üö© Documented under the correct PID, Contact, Order. (4pts)", feedback: "‚ö†Ô∏è Documented under the correct PID, Contact, Order. (4pts)" },
{ label: "Classified mandatory fields", yes: "‚úÖ All mandatory ticket fields were properly classified.", no: "üö© Classified all mandatory ticket fields. (4pts)", feedback: "‚ö†Ô∏è Classified all mandatory ticket fields. (4pts)" },
{ label: "Used proper subject", yes: "‚úÖ You entered a relevant and clear subject line for the ticket.", no: "üö© Used a proper subject. (2pts)", feedback: "‚ö†Ô∏è Used a proper subject. (2pts)" },
{ label: "Documented issue and actions", yes: "‚úÖ You accurately documented the issue and actions taken to solve it.", no: "üö© Documented the issue/ questions and actions taken to solve it. (5pts)", feedback: "‚ö†Ô∏è Documented the issue/ questions and actions taken to solve it. (5pts)" },
{ label: "Assigned correct status and owner", yes: "‚úÖ You assigned the correct ticket status and owner when applicable.", no: "üö© Correctly assigned the ticket status and ticket owner (when applicable). (4pts)", feedback: "‚ö†Ô∏è Correctly assigned the ticket status and ticket owner (when applicable). (4pts)" },
{ label: "Attached evidence", yes: "‚úÖ You attached all necessary evidence to the ticket.", no: "üö© Evidence attached to the ticket. (2pts)", feedback: "‚ö†Ô∏è Evidence attached to the ticket. (2pts)" },
{ label: "Documented interaction", yes: "‚úÖ The interaction was properly documented and saved in the system.", no: "üö© Failed to document the interaction.", feedback: "‚ö†Ô∏è Failed to document the interaction." },
{ label: "No sensitive info released", yes: "‚úÖ You safeguarded customer information and avoided sharing sensitive data.", no: "üö© Released sensitive information to an unknown requester.", feedback: "‚ö†Ô∏è Released sensitive information to an unknown requester." },
{ label: "Professional behavior", yes: "‚úÖ You maintained professional behavior throughout the interaction.", no: "üö© The agent was unprofessional.", feedback: "‚ö†Ô∏è The agent was unprofessional." },
{ label: "Did not disconnect chat", yes: "‚úÖ You stayed connected until the chat was properly closed.", no: "üö© Disconnected the chat.", feedback: "‚ö†Ô∏è Disconnected the chat." },
{ label: "Closed chat properly", yes: "‚úÖ You closed the chat line correctly after finishing the interaction.", no: "üö© Left the chat line open after the chat finished (3 min).", feedback: "‚ö†Ô∏è Left the chat line open after the chat finished (3 min)." },
{ label: "Recording disclaimer", yes: "‚úÖ You followed the recording disclaimer process as required.", no: "üö© Recording Disclaimer.", feedback: "‚ö†Ô∏è Recording Disclaimer." },
{ label: "Sent message to customer", yes: "‚úÖ You successfully sent the message to the customer.", no: "üö© Failed to send the text to the customer.", feedback: "‚ö†Ô∏è Failed to send the text to the customer." },
{ label: "Acceptable grammar", yes: "‚úÖ Grammar and spelling met quality standards with minimal errors.", no: "üö© The text has 4 or more grammar mistakes.", feedback: "‚ö†Ô∏è The text has 4 or more grammar mistakes." },

],
};

 const container = document.getElementById("criteria-container");
const feedbackBox = document.getElementById("feedback");

function loadCriteriaSet() {
  const selectedSet = document.getElementById("criteriaSet").value;
  const currentCriteria = criteriaSet[selectedSet] || [];
  container.innerHTML = "";

  currentCriteria.forEach((item, index) => {
    const div = document.createElement("div");
    div.className = "criterion";
    div.innerHTML = `
      <strong>${index + 1}. ${item.label}</strong><br>
      <button class="yes" onclick="addFeedback(\`${item.yes}\`)">Yes ‚úÖ</button>
      <button class="no" onclick="addFeedback(\`${item.no}\`)">No üö©</button>
      <button class="feedback" onclick="addFeedback(\`${item.feedback}\`)">Feedback ‚ö†Ô∏è</button>
    `;
    container.appendChild(div);
  });
}



  function addFeedback(text) {
  feedbackBox.value += text + "\n\n";
  if (text.startsWith("‚úÖ")) {
    accomplishments.push(text);
  } else if (text.startsWith("üö©")) {
    developmentFeedback.push(text);
  }
}


  function clearAll() {
  document.getElementById("agentName").value = "";
  document.getElementById("callerName").value = "";
  document.getElementById("callReason").value = "";
  document.getElementById("orderId").value = "";
  document.getElementById("ticketId").value = "";
  document.getElementById("feedback").value = "";
  accomplishments = [];
  developmentFeedback = [];
}

window.onload = loadCriteriaSet;


 function copyFeedback() {
  const agent = document.getElementById("agentName").value.trim();
  const caller = document.getElementById("callerName").value.trim();
  const reason = document.getElementById("callReason").value.trim();
  const orderId = document.getElementById("orderId").value.trim();
  const ticketId = document.getElementById("ticketId").value.trim();
  const rawFeedback = document.getElementById("feedback").value.trim();

  const lines = rawFeedback.split("\n").map(line => line.trim()).filter(line => line !== "");

  const accomplishments = [];
  const developmentFeedback = [];
  const feedbackOnly = [];

  let currentBlock = null;

  lines.forEach(line => {
    if (line.startsWith("‚úÖ")) {
      currentBlock = { type: "accomplishment", text: [line] };
      accomplishments.push(currentBlock);
    } else if (line.startsWith("üö©")) {
      currentBlock = { type: "development", text: [line] };
      developmentFeedback.push(currentBlock);
    } else if (line.startsWith("‚ö†Ô∏è")) {
      currentBlock = { type: "feedback", text: [line] };
      feedbackOnly.push(currentBlock);
    } else if (currentBlock) {
      currentBlock.text.push(line);
    }
  });

  let header = "";
  if (agent || caller || reason || orderId || ticketId) {
    header += `Customer: ${caller || "N/A"}\n`;
    header += `Reason: ${reason || "N/A"}\n`;
    header += `Order/Patient ID: ${orderId || "N/A"}\n`;
    header += `Ticket ID: ${ticketId || "N/A"}\n\n____________________________\n\n`;
  }

  let greeting = agent ? `Hello ${agent},\n\nYou can find the details about your evaluation below:\n\n` : "";
  let parting = '____________________________\n\nThank you for your effort and dedication to our customers! \n\nHave an amazing day!\n\nKeep checking your metrics:\n\nhttps://apps.powerapps.com/play/5195f0c7-73f5-4350-bd49-dfedf64c3c17';

  let finalText = greeting + header;

  if (accomplishments.length > 0) {
    finalText += "Accomplishments:\n\n";
    finalText += accomplishments.map(block => block.text.join("\n")).join("\n\n") + "\n\n";
  }

  if (developmentFeedback.length > 0) {
    finalText += "____________________________\n\nFeedback for Development:\n\n";
    finalText += developmentFeedback.map(block => block.text.join("\n")).join("\n\n") + "\n\n";
  }

  if (feedbackOnly.length > 0) {
    finalText += "____________________________\n\nFeedback only (no deductions done, but keep in mind for future interactions):\n\n";
    finalText += feedbackOnly.map(block => block.text.join("\n")).join("\n\n") + "\n\n";
  }

  finalText += parting;

  navigator.clipboard.writeText(finalText);
}
</script>

<button onclick="clearAll()" style="margin-top: 10px; padding: 10px 20px;">Clear All</button>
</body>
</html>


